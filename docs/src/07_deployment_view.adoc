ifndef::imagesdir[:imagesdir: ../images]

[[section-deployment-view]]


== Deployment View
[.text-center]
image::../images/07_deployment.png[]

Motivation::
The application is built to use Docker and a Virtual Machine as a host in such a way that it combines the portability of the containers with the security and isolation features of the VM.

Quality and/or Performance Features::
Some of the characteristics obtained by the use of the specified implementation would be:
- **Isolation**: Both thanks to the container isolation of Docker and the own security features of the Virtual Machine.
- **Portability and Compatibility**: Thanks to the use of the Docker containers. 
- **Security**: If a container is compromised, the VM can act as another security layer.
- **Others**: Scalability, easily maintainable, would be very simple to backup... 

Mapping of Building Blocks to Infrastructure::
The building blocks of the current infrastructure would be:
- **Webapp**: Located in port 80, it is the one the user will connect to and interact with. It is the GUI (Graphic User Interface), and as such the frontend of the aplication.
- **Gateway**: This block has port 8080 assigned, and it is in charge of acting as a bridge between the rest of the building blocks of the application, 
- **Users**: It is in charge of the user management as well as the authentication feature, and its port is 3000. 
- **Gamey**: This service, writen in Rust, is the one containing the complete functionality of the Y Game. It uses port 4000.
- **Database**: It is an external block containing all the information of the application (user data, game data...).

Additionally, it is worth mentioning the presence of Prometheus and Grafana, located in ports 9090 and 9091 respectively, are external blocks that will be used to monitor and obtain metrics of the application and its usage.
